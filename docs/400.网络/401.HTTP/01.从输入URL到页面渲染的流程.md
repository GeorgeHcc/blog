---
title: 从输入URL到页面渲染的流程
date: 2023-10-08 19:26:36
permalink: /pages/93a178/
categories:
  - 网络
  - HTTP
tags:
  - 
author: 
  name: GeorgeH
  link: https://github.com/GeorgeHcc
---

简单来说可分为以下几个步骤

1. ##### 浏览器解析url后，确定了web服务器和文件名，生成http请求信息

2. ##### 解析域名

   1. 浏览器先看自身有没有缓存，如果没有就去看操作系统，操作系统也没有缓存就去看本地hosts文件查看
   2. 如果以上都没有缓存，那么就会去访问本地DNS服务器

3. ##### 操作系统->协议栈

   ###### DNS获取到ip地址后会把http的传输工作委托给操作系统的协议栈

4. ##### TCP

   

   > TCP头部报文中包含源端口、目标端口、包序号（防止包混乱）、确认号、状态位（SYN、SCK、RST、FIN)等。

   > 如果 HTTP 请求消息比较长，超过了 `MSS` 的长度，这时 TCP 就需要把 HTTP 的数据拆解成一块块的数据发送，而不是一次性发送所有数据。

   传输数据之前TCP要通过三次握手建立可靠的连接，保证双方都有接收和发送的能力

   在双方建立连接后，生成TCP报文并给http报文添加TCP头部，然后交给下面的网络层处理。

5. ##### 远程定位-IP

   生成IP报文，给数据包加上一层IP头部

   > IP报文头部：源IP地址、目标IP地址

   ###### TCP 模块在执行连接、收发、断开等各阶段操作时，都需要委托 IP 模块将数据封装成**网络包**发送给通信对象。

6. ##### 两点传输-MAC】

7. 

   生成了 IP 头部之后，接下来网络包还需要在 IP 头部的前面加上 **MAC 头部**。

   >  在 MAC 包头里需要**发送方 MAC 地址**和**接收方目标 MAC 地址**，用于**两点之间的传输**。

8. ##### 网卡

   将数字信息转换为电信息，将数据发送出去

9. ##### 交换机

   将电信号转换为数字信号，然后根据 MAC 地址表查找 MAC 地址，然后将信号发送到相应的端口，数据包通过交换机转发抵达路由器

10. ##### 路由器

    

11. ##### 服务器
