(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{384:function(t,a,s){"use strict";s.r(a);var r=s(4),v=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"第11章-并发控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第11章-并发控制"}},[t._v("#")]),t._v(" 第11章 并发控制")]),t._v(" "),a("p",[a("strong",[t._v("本章内容大纲")]),t._v(" "),a("iframe",{attrs:{src:t.$withBase("/markmap/并发控制.html"),width:"100%",height:"400",frameborder:"0",scrolling:"No",leftmargin:"0",topmargin:"0"}}),t._v("\n为什么要并发控制？我们先来看一个例子：")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("点击查看")]),t._v(" "),a("p",[t._v("在一个飞机订票系统中：某航班机票余额（A=50）")]),t._v(" "),a("ul",[a("li",[t._v("甲售票点（事物T1），读取机票余额->A=50")]),t._v(" "),a("li",[t._v("乙售票点（事物T2），读取机票余额->A=50")]),t._v(" "),a("li",[t._v("甲售票点，售出一张机票->A=49，写入数据库")]),t._v(" "),a("li",[t._v("乙售票点，售出一张机票->A=49，写入数据库")])]),t._v(" "),a("p",[t._v("在这个过程中明明卖出了2张票，但是数据库中却只少了一张票，这是因为T2事物写入时覆盖了T1事物的修改，从而导致数据不一致性。")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("数据不一致性包含"),a("Badge",{attrs:{type:"warning",text:"丢失修改，不可重复读，读“脏”数据",vertical:"center"}})],1)]),t._v(" "),a("li",[a("p",[t._v("并发控制机制就是要使用正确的方式调度并发操作，使一个事务的执行不受其他事务的干扰")])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("笔记")]),t._v(" "),a("p",[t._v("事物是并发控制的基本单位")])]),t._v(" "),a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("h2",{attrs:{id:"封锁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#封锁"}},[t._v("#")]),t._v(" 封锁")]),t._v(" "),a("h2",{attrs:{id:"封锁协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#封锁协议"}},[t._v("#")]),t._v(" 封锁协议")]),t._v(" "),a("h2",{attrs:{id:"活锁和死锁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#活锁和死锁"}},[t._v("#")]),t._v(" 活锁和死锁")]),t._v(" "),a("h3",{attrs:{id:"活锁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#活锁"}},[t._v("#")]),t._v(" 活锁")]),t._v(" "),a("h3",{attrs:{id:"死锁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#死锁"}},[t._v("#")]),t._v(" 死锁")]),t._v(" "),a("h2",{attrs:{id:"并发调度的可串行性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#并发调度的可串行性"}},[t._v("#")]),t._v(" 并发调度的可串行性")]),t._v(" "),a("h3",{attrs:{id:"可串行性调度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可串行性调度"}},[t._v("#")]),t._v(" 可串行性调度")]),t._v(" "),a("h3",{attrs:{id:"冲突可串行化调度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#冲突可串行化调度"}},[t._v("#")]),t._v(" 冲突可串行化调度")]),t._v(" "),a("h2",{attrs:{id:"两段锁协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#两段锁协议"}},[t._v("#")]),t._v(" 两段锁协议")]),t._v(" "),a("h2",{attrs:{id:"封锁的粒度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#封锁的粒度"}},[t._v("#")]),t._v(" 封锁的粒度")]),t._v(" "),a("h3",{attrs:{id:"多粒度封锁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多粒度封锁"}},[t._v("#")]),t._v(" 多粒度封锁")]),t._v(" "),a("h3",{attrs:{id:"意向锁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#意向锁"}},[t._v("#")]),t._v(" 意向锁")]),t._v(" "),a("h2",{attrs:{id:"其他并发控制机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他并发控制机制"}},[t._v("#")]),t._v(" 其他并发控制机制")]),t._v(" "),a("h3",{attrs:{id:"多版本并发控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多版本并发控制"}},[t._v("#")]),t._v(" 多版本并发控制")]),t._v(" "),a("h3",{attrs:{id:"改进的多版本并发控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#改进的多版本并发控制"}},[t._v("#")]),t._v(" 改进的多版本并发控制")])])}),[],!1,null,null,null);a.default=v.exports}}]);